<div class="bilan-upload-container glass-effect">
  <h2><i class="fas fa-file-upload"></i> Upload Bilan</h2>
  
  <form [formGroup]="bilanForm" (ngSubmit)="onSubmit()" enctype="multipart/form-data">
    <div class="form-group">
      <label><i class="fas fa-tag"></i> Type</label>
      <input formControlName="type" class="form-control" placeholder="e.g. Blood Test, X-Ray, MRI Scan" />
    </div>

    <div class="form-group">
      <label><i class="fas fa-clipboard-list"></i> Results Summary</label>
      <textarea formControlName="results" class="form-control" rows="4" 
                placeholder="Enter a summary of the test results or findings..."></textarea>
    </div>

    <div class="form-group">
      <label><i class="fas fa-file-pdf"></i> File Attachment</label>
      <div class="file-upload-wrapper">
        <label class="file-upload-label">
          <i class="fas fa-cloud-upload-alt"></i>
          <span>Click to upload or drag and drop</span>
          <span class="text-sm text-gray-500">PDF, JPG, PNG (Max 5MB)</span>
          <input type="file" class="file-upload-input" (change)="onFileSelected($event)" />
        </label>
      </div>
      <div *ngIf="selectedFile" class="file-info">
        <i class="fas fa-check-circle"></i>
        {{ selectedFile.name }} ({{ (selectedFile.size / 1024 / 1024).toFixed(2) }} MB)
      </div>
    </div>

    <button type="submit" class="upload-button" [disabled]="!bilanForm.valid || !selectedFile">
      <i class="fas fa-upload"></i> Upload Bilan
    </button>
  </form>

  <div *ngIf="uploadSuccess" class="upload-success">
    <i class="fas fa-check-circle"></i>
    <div>
      <p class="font-bold">Bilan uploaded successfully!</p>
      <p class="text-sm">Your medical document has been securely stored.</p>
    </div>
  </div>
</div>