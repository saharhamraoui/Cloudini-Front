<div class="reclamation-wrapper container py-4">
  <h2 class="mb-4 text-primary">📄 Mes Réclamations</h2>

  <div *ngFor="let rec of reclamations" class="card shadow-sm mb-4">
    <div class="card-body">
      <h5 class="card-title text-dark fw-semibold mb-3">
        📝 {{ rec.description }}
      </h5>

      <div class="row mb-2">
        <div class="col-md-4">
          <strong>Statut :</strong>
          <span class="badge"
                [ngClass]="{
                  'bg-warning text-dark': rec.status === 'PENDING',
                  'bg-info text-dark': rec.status === 'IN_PROGRESS',
                  'bg-success': rec.status === 'RESOLVED',
                  'bg-secondary': rec.status === 'ESCALATED',
                  'bg-danger': rec.status === 'CANCELED'
                }">
            {{ rec.status }}
          </span>
        </div>
        <div class="col-md-4">
          <strong>Catégorie :</strong> {{ rec.category || 'Non catégorisé' }}
        </div>
        <div class="col-md-4">
          <strong>Émotion détectée :</strong> {{ rec.emotion || '—' }}
        </div>
      </div>

      <div *ngIf="responseMap[rec.id!] && responseMap[rec.id!].length > 0" class="mt-3">
        <h6 class="fw-bold text-muted">💬 Réponse(s) de l'administration :</h6>
        <ul class="list-group list-group-flush">
          <li class="list-group-item" *ngFor="let msg of responseMap[rec.id!]">
            {{ msg }}
          </li>
        </ul>
      </div>
    </div>
  </div>
</div>
